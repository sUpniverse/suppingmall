<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:include="fragments/header :: header" />
<body>
<nav th:replace="fragments/navigation :: navigation" />
    <div class="container">
        <form role="form" th:method="delete">
        </form>
        <div class="table table-default">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="writer">writer</label>
                    <input id="writer" type="text" name="writer" class="form-control" th:value="${board.creator.nickName}" readonly="readonly">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="created">작성일</label>
                    <input id="created" type="text" name="writer" class="form-control" th:value="${board.createdDate}" readonly="readonly">
                </div>
            </div>
            <div class="form-group">
                <label for="title">Title</label>
                <input id="title" type="text" name="title" class="form-control" th:value="${board.title}" readonly="readonly">
            </div>
            <div class="form-group">
                <label  for="contents">Content</label>
                <textarea id="contents" rows="3" class="form-control" name="content" th:field="${board.contents}" readonly="readonly"></textarea>
            </div>
        </div>
        <div class="box-footer">
            <button type="submit" class="btn btn-warning">Modify</button>
            <button type="submit" class="btn btn-danger">REMOVE</button>
            <button type="submit" class="btn btn-primary">LIST ALL</button>
        </div>
    </div>
</body>
<script th:inline="javascript">
    $(document).ready(function() {
        var formObj = $("form[role='form']");
        var boardId = [[${board.boardId}]];
        console.log(formObj);

        $(".btn-warning").on("click", function() {
            formObj.children().removeAttr("input");
            formObj.attr("action","/boards/"+boardId+"/form");
            formObj.attr("method","get");
            formObj.submit();
        });

        $(".btn-danger").on("click",function() {
            formObj.attr("action","/boards/"+boardId);
            formObj.submit();
        });

        $(".btn-primary").on("click",function() {
            formObj.attr("action","/boards");
            self.location ="/boards";
        });
    });
</script>
<footer th:include="fragments/footer :: footer" />
</html>